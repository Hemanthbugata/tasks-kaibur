{"ast":null,"code":"// components/TaskList.tsx\nimport React,{useState,useEffect}from'react';import{Table,Button,notification}from'antd';import{fetchTasks,deleteTask}from'../api/taskApi';import{jsx as _jsx}from\"react/jsx-runtime\";const TaskList=()=>{const[tasks,setTasks]=useState([]);useEffect(()=>{fetchTasks().then(data=>setTasks(data));},[]);const handleDelete=async taskId=>{try{const response=await deleteTask(taskId);if(response){notification.success({message:'Task Deleted Successfully'});setTasks(tasks.filter(task=>task.id!==taskId));}else{notification.error({message:'Error Deleting Task'});}}catch(error){notification.error({message:'Error Deleting Task',description:error.message});}};return/*#__PURE__*/_jsx(Table,{dataSource:tasks,rowKey:\"id\",columns:[{title:'Task Name',dataIndex:'name',key:'name'},{title:'Command',dataIndex:'command',key:'command'},{title:'Actions',key:'action',render:(_,record)=>/*#__PURE__*/_jsx(Button,{onClick:()=>handleDelete(record.id),danger:true,children:\"Delete\"})}]});};export default TaskList;","map":{"version":3,"names":["React","useState","useEffect","Table","Button","notification","fetchTasks","deleteTask","jsx","_jsx","TaskList","tasks","setTasks","then","data","handleDelete","taskId","response","success","message","filter","task","id","error","description","dataSource","rowKey","columns","title","dataIndex","key","render","_","record","onClick","danger","children"],"sources":["C:/Users/Hemanthbugata/Desktop/tasks-kabiur/frontend/src/components/TaskList.tsx"],"sourcesContent":["// components/TaskList.tsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Table, Button, notification } from 'antd';\r\nimport { Task } from '../types/TaskTypes';\r\nimport { fetchTasks, deleteTask } from '../api/taskApi';\r\n\r\nconst TaskList: React.FC = () => {\r\n  const [tasks, setTasks] = useState<Task[]>([]);\r\n\r\n  useEffect(() => {\r\n    fetchTasks().then((data) => setTasks(data));\r\n  }, []);\r\n\r\n  const handleDelete = async (taskId: string) => {\r\n    try {\r\n      const response = await deleteTask(taskId);\r\n      if (response) {\r\n        notification.success({\r\n          message: 'Task Deleted Successfully',\r\n        });\r\n        setTasks(tasks.filter((task) => task.id !== taskId));\r\n      } else {\r\n        notification.error({\r\n          message: 'Error Deleting Task',\r\n        });\r\n      }\r\n    } catch (error: any) {\r\n      notification.error({\r\n        message: 'Error Deleting Task',\r\n        description: error.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Table\r\n      dataSource={tasks}\r\n      rowKey=\"id\"\r\n      columns={[\r\n        { title: 'Task Name', dataIndex: 'name', key: 'name' },\r\n        { title: 'Command', dataIndex: 'command', key: 'command' },\r\n        {\r\n          title: 'Actions',\r\n          key: 'action',\r\n          render: (_, record: Task) => (\r\n            <Button onClick={() => handleDelete(record.id)} danger>\r\n              Delete\r\n            </Button>\r\n          ),\r\n        },\r\n      ]}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TaskList;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,KAAK,CAAEC,MAAM,CAAEC,YAAY,KAAQ,MAAM,CAElD,OAASC,UAAU,CAAEC,UAAU,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExD,KAAM,CAAAC,QAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAS,EAAE,CAAC,CAE9CC,SAAS,CAAC,IAAM,CACdI,UAAU,CAAC,CAAC,CAACO,IAAI,CAAEC,IAAI,EAAKF,QAAQ,CAACE,IAAI,CAAC,CAAC,CAC7C,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAC,MAAc,EAAK,CAC7C,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAV,UAAU,CAACS,MAAM,CAAC,CACzC,GAAIC,QAAQ,CAAE,CACZZ,YAAY,CAACa,OAAO,CAAC,CACnBC,OAAO,CAAE,2BACX,CAAC,CAAC,CACFP,QAAQ,CAACD,KAAK,CAACS,MAAM,CAAEC,IAAI,EAAKA,IAAI,CAACC,EAAE,GAAKN,MAAM,CAAC,CAAC,CACtD,CAAC,IAAM,CACLX,YAAY,CAACkB,KAAK,CAAC,CACjBJ,OAAO,CAAE,qBACX,CAAC,CAAC,CACJ,CACF,CAAE,MAAOI,KAAU,CAAE,CACnBlB,YAAY,CAACkB,KAAK,CAAC,CACjBJ,OAAO,CAAE,qBAAqB,CAC9BK,WAAW,CAAED,KAAK,CAACJ,OACrB,CAAC,CAAC,CACJ,CACF,CAAC,CAED,mBACEV,IAAA,CAACN,KAAK,EACJsB,UAAU,CAAEd,KAAM,CAClBe,MAAM,CAAC,IAAI,CACXC,OAAO,CAAE,CACP,CAAEC,KAAK,CAAE,WAAW,CAAEC,SAAS,CAAE,MAAM,CAAEC,GAAG,CAAE,MAAO,CAAC,CACtD,CAAEF,KAAK,CAAE,SAAS,CAAEC,SAAS,CAAE,SAAS,CAAEC,GAAG,CAAE,SAAU,CAAC,CAC1D,CACEF,KAAK,CAAE,SAAS,CAChBE,GAAG,CAAE,QAAQ,CACbC,MAAM,CAAEA,CAACC,CAAC,CAAEC,MAAY,gBACtBxB,IAAA,CAACL,MAAM,EAAC8B,OAAO,CAAEA,CAAA,GAAMnB,YAAY,CAACkB,MAAM,CAACX,EAAE,CAAE,CAACa,MAAM,MAAAC,QAAA,CAAC,QAEvD,CAAQ,CAEZ,CAAC,CACD,CACH,CAAC,CAEN,CAAC,CAED,cAAe,CAAA1B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}